# Remote Manim Rendering Server

This is a lightweight Flask-based rendering server for processing and returning animation videos written using the [Manim](https://www.manim.community/) animation engine. It is designed to integrate with external frontends by accepting raw Python code and returning a rendered MP4 video.

---

## Features

* Accepts raw Manim Python scripts via HTTP POST.
* Renders animations to MP4 using `manim` CLI.
* Returns video as a binary stream to the client.
* Can run locally or in a Docker container.

---

## File Structure

```
.
├── app.py               # Flask API server for rendering
├── Dockerfile           # Container configuration
├── pyproject.toml       # Optional modern build system config
├── requirements.txt     # Dependency list
└── uv.lock              # Pinned dependencies (generated by uv/poetry)
```

---

## Getting Started

### Prerequisites

* Python 3.10+
* FFmpeg (required by Manim)

### Install with pip

```bash
pip install -r requirements.txt
python app.py
```

Server will run on `http://localhost:5000`.

---

## Docker Deployment

### Build Image

```bash
docker build -t manim-render .
```

### Run Container

```bash
docker run -p 5000:5000 manim-render
```

---

## API Usage

### POST `/render`

**Description:** Accepts Python code using Manim syntax and returns an MP4 video stream.

**Request Body:**

```json
{
  "code": "from manim import *\nclass Test(Scene):\n def construct(self): self.play(Write(Text(\"Hello\")))"
}
```

**Response:**

* `200 OK`: binary MP4 video stream
* `400 Bad Request`: missing or invalid code
* `500 Internal Server Error`: render failure

---

## Security Warning

This server executes arbitrary Python code and should **not** be exposed directly to the public internet. For safe production use:

* Containerize and sandbox execution.
* Rate-limit and authenticate API access.
* Sanitize or validate inputs if exposing programmatically.

---

## Example Code Snippet

```python
from manim import *

class IntroScene(Scene):
    def construct(self):
        text = Text("Welcome to Manim")
        self.play(Write(text))
```

Send the above code via `POST /render` to get an animation video.

---

## Development Notes

* Supports `manim==0.19.0`
* Flask for lightweight API interface
* Gunicorn recommended for production

---
